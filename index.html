<!-- index.html -->
<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rusha Drop - Em ManutenÃ§Ã£o</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

  <!-- Redirecionamento imediato -->
  <meta http-equiv="refresh" content="0;url=https://finalcircle.gamer.gd/">

  <style>
    * { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
    body { background-color: #121212; color: #f1f1f1; scroll-behavior: smooth; margin:0; text-align:center; padding-top:20vh;}
    h1 { font-size:2rem; color:#ffcc00; }
    p { font-size:1rem; color:#ccc; }
  </style>
</head>

<body>
  <h1>ðŸš§ PÃ¡gina em ManutenÃ§Ã£o ðŸš§</h1>
  <p>VocÃª serÃ¡ redirecionado automaticamente...</p>

  <!-- Navbar injetada via componente -->
  <script type="module">
    import { injectNavbar } from './js/navbar.js';
    injectNavbar();
  </script>

  <main>
    <!-- Banner -->
    <section id="banner" class="banner-container">
      <img src="imagens/Rusha.png" alt="Banner do campeonato Rusha Drop PUBG" loading="lazy" />
      <div class="cronometro-overlay">
        <h2><i class="fas fa-trophy"></i></h2>
        <div id="countdown" aria-live="polite">00:00:00</div>
        <a href="#" class="btn-redir" id="btn-banner-redir">Confira Times e Tabelas</a>
      </div>
    </section>

    <!-- ConteÃºdo Twitch -->
    <section class="content-area">
      <h2><i class="fab fa-twitch"></i> Acompanhe a Live</h2>
      <div class="twitch-wrapper">
        <iframe id="twitch-frame" src="" title="TransmissÃ£o ao vivo na Twitch" allowfullscreen loading="lazy" scrolling="no"></iframe>
      </div>
    </section>
  </main>

  <footer>
    <p>Rusha Drop eSports Â© 2025 â€“ Todos os direitos reservados.</p>
  </footer>

  <!-- Pop-up -->
  <div class="popup-overlay" id="popup">
    <div class="popup-content">
      <p>Confira os times e tabelas do campeonato de hoje, Ã s 21h.</p>
      <button id="popup-go">Ir para Final Circle</button>
      <button id="popup-close" class="popup-close">Fechar</button>
    </div>
  </div>

  <script>
    const twitchLink = "https://player.twitch.tv/?channel=SEU_CANAL&parent=localhost";
    const finalCircleLink = "https://finalcircle.gamer.gd/";

    // Atualizar iframe Twitch
    document.getElementById('twitch-frame').src = twitchLink;

    // BotÃ£o do banner
    document.getElementById('btn-banner-redir').addEventListener('click', ()=> window.location.href = finalCircleLink);

    // CronÃ´metro 30/08/2025 21:00
    const countdownElement = document.getElementById('countdown');
    const endDate = new Date("2025-08-30T21:00:00").getTime();
    function updateCountdown() {
      const now = new Date().getTime();
      const distance = endDate - now;
      if(distance<0){countdownElement.innerHTML="O Campeonato comeÃ§ou!"; clearInterval(interval); return;}
      const days = Math.floor(distance/(1000*60*60*24));
      const hours = Math.floor((distance%(1000*60*60*24))/(1000*60*60));
      const minutes = Math.floor((distance%(1000*60*60))/(1000*60));
      const seconds = Math.floor((distance%(1000*60))/1000);
      countdownElement.innerHTML = `${days} dia${days!==1?'s':''}, ${hours.toString().padStart(2,'0')}h : ${minutes.toString().padStart(2,'0')}m : ${seconds.toString().padStart(2,'0')}s`;
    }
    const interval = setInterval(updateCountdown,1000);
    updateCountdown();

    // Pop-up
    const popup = document.getElementById('popup');
    const popupGo = document.getElementById('popup-go');
    const popupClose = document.getElementById('popup-close');

    function showPopup(){popup.style.display='flex';}
    function hidePopup(){popup.style.display='none';}

    popupGo.addEventListener('click', ()=>window.location.href=finalCircleLink);
    popupClose.addEventListener('click', hidePopup);

    window.addEventListener('load', ()=>{
      showPopup();
      setInterval(()=>{
        if(popup.style.display==='none'){showPopup();}
      },30000);
    });

    // BotÃµes desativados na navbar (Times e Tabelas)
    function disableNavbarButtons(){
      const links = document.querySelectorAll('#navbar-links a');
      links.forEach(link=>{
        if(link.textContent.includes('Times')||link.textContent.includes('Tabelas')){
          link.classList.add('disabled');
          link.addEventListener('click', ()=>{
            document.getElementById('btn-banner-redir').classList.add('blink');
            setTimeout(()=>document.getElementById('btn-banner-redir').classList.remove('blink'),1800);
          });
        }
      });
    }
    window.addEventListener('load', ()=>setTimeout(disableNavbarButtons,1000));

    // Redirecionamento instantÃ¢neo via JS como fallback
    window.location.href = finalCircleLink;
  </script>

</body>
</html>
